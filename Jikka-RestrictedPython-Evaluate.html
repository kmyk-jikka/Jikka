<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Jikka.RestrictedPython.Evaluate</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">Jikka-5.0.6.0: A transpiler from Python to C++ for competitive programming</span><ul class="links" id="page-menu"><li><a href="src/Jikka.RestrictedPython.Evaluate.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Kimiyuki Onaka 2021</td></tr><tr><th>License</th><td>Apache License 2.0</td></tr><tr><th>Maintainer</th><td>kimiyuki95@gmail.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Jikka.RestrictedPython.Evaluate</p></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:run">run</a> :: <a href="../mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Jikka-Common-Error.html#t:Error" title="Jikka.Common.Error">Error</a> m =&gt; <a href="Jikka-RestrictedPython-Language-Expr.html#t:Program" title="Jikka.RestrictedPython.Language.Expr">Program</a> -&gt; <a href="Jikka-RestrictedPython-Language-Expr.html#t:Expr-39-" title="Jikka.RestrictedPython.Language.Expr">Expr'</a> -&gt; m <a href="Jikka-RestrictedPython-Language-Value.html#t:Value" title="Jikka.RestrictedPython.Language.Value">Value</a></li><li class="src short"><a href="#v:makeGlobal">makeGlobal</a> :: <a href="../mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Jikka-Common-Error.html#t:Error" title="Jikka.Common.Error">Error</a> m =&gt; <a href="Jikka-RestrictedPython-Language-Expr.html#t:Program" title="Jikka.RestrictedPython.Language.Expr">Program</a> -&gt; m <a href="Jikka-RestrictedPython-Language-Value.html#t:Global" title="Jikka.RestrictedPython.Language.Value">Global</a></li><li class="src short"><a href="#v:runWithGlobal">runWithGlobal</a> :: <a href="../mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Jikka-Common-Error.html#t:Error" title="Jikka.Common.Error">Error</a> m =&gt; <a href="Jikka-RestrictedPython-Language-Value.html#t:Global" title="Jikka.RestrictedPython.Language.Value">Global</a> -&gt; <a href="Jikka-RestrictedPython-Language-Expr.html#t:Expr-39-" title="Jikka.RestrictedPython.Language.Expr">Expr'</a> -&gt; m <a href="Jikka-RestrictedPython-Language-Value.html#t:Value" title="Jikka.RestrictedPython.Language.Value">Value</a></li><li class="src short"><a href="#v:evalExpr">evalExpr</a> :: (<a href="../mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Jikka-RestrictedPython-Language-Value.html#t:Global" title="Jikka.RestrictedPython.Language.Value">Global</a> m, <a href="../mtl-2.2.2/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> <a href="Jikka-RestrictedPython-Language-Value.html#t:Local" title="Jikka.RestrictedPython.Language.Value">Local</a> m, <a href="../mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Jikka-Common-Error.html#t:Error" title="Jikka.Common.Error">Error</a> m) =&gt; <a href="Jikka-RestrictedPython-Language-Expr.html#t:Expr-39-" title="Jikka.RestrictedPython.Language.Expr">Expr'</a> -&gt; m <a href="Jikka-RestrictedPython-Language-Value.html#t:Value" title="Jikka.RestrictedPython.Language.Value">Value</a></li><li class="src short"><a href="#v:evalStatement">evalStatement</a> :: (<a href="../mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Jikka-RestrictedPython-Language-Value.html#t:Global" title="Jikka.RestrictedPython.Language.Value">Global</a> m, <a href="../mtl-2.2.2/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> <a href="Jikka-RestrictedPython-Language-Value.html#t:Local" title="Jikka.RestrictedPython.Language.Value">Local</a> m, <a href="../mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Jikka-Common-Error.html#t:Error" title="Jikka.Common.Error">Error</a> m) =&gt; <a href="Jikka-RestrictedPython-Language-Expr.html#t:Statement" title="Jikka.RestrictedPython.Language.Expr">Statement</a> -&gt; m (<a href="../base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Jikka-RestrictedPython-Language-Value.html#t:Value" title="Jikka.RestrictedPython.Language.Value">Value</a>)</li><li class="src short"><a href="#v:evalStatements">evalStatements</a> :: (<a href="../mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Jikka-RestrictedPython-Language-Value.html#t:Global" title="Jikka.RestrictedPython.Language.Value">Global</a> m, <a href="../mtl-2.2.2/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> <a href="Jikka-RestrictedPython-Language-Value.html#t:Local" title="Jikka.RestrictedPython.Language.Value">Local</a> m, <a href="../mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Jikka-Common-Error.html#t:Error" title="Jikka.Common.Error">Error</a> m) =&gt; [<a href="Jikka-RestrictedPython-Language-Expr.html#t:Statement" title="Jikka.RestrictedPython.Language.Expr">Statement</a>] -&gt; m (<a href="../base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Jikka-RestrictedPython-Language-Value.html#t:Value" title="Jikka.RestrictedPython.Language.Value">Value</a>)</li><li class="src short"><a href="#v:execToplevelStatement">execToplevelStatement</a> :: (<a href="../mtl-2.2.2/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> <a href="Jikka-RestrictedPython-Language-Value.html#t:Global" title="Jikka.RestrictedPython.Language.Value">Global</a> m, <a href="../mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Jikka-Common-Error.html#t:Error" title="Jikka.Common.Error">Error</a> m) =&gt; <a href="Jikka-RestrictedPython-Language-Expr.html#t:ToplevelStatement" title="Jikka.RestrictedPython.Language.Expr">ToplevelStatement</a> -&gt; m ()</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:run" class="def">run</a> :: <a href="../mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Jikka-Common-Error.html#t:Error" title="Jikka.Common.Error">Error</a> m =&gt; <a href="Jikka-RestrictedPython-Language-Expr.html#t:Program" title="Jikka.RestrictedPython.Language.Expr">Program</a> -&gt; <a href="Jikka-RestrictedPython-Language-Expr.html#t:Expr-39-" title="Jikka.RestrictedPython.Language.Expr">Expr'</a> -&gt; m <a href="Jikka-RestrictedPython-Language-Value.html#t:Value" title="Jikka.RestrictedPython.Language.Value">Value</a> <a href="src/Jikka.RestrictedPython.Evaluate.html#run" class="link">Source</a> <a href="#v:run" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:makeGlobal" class="def">makeGlobal</a> :: <a href="../mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Jikka-Common-Error.html#t:Error" title="Jikka.Common.Error">Error</a> m =&gt; <a href="Jikka-RestrictedPython-Language-Expr.html#t:Program" title="Jikka.RestrictedPython.Language.Expr">Program</a> -&gt; m <a href="Jikka-RestrictedPython-Language-Value.html#t:Global" title="Jikka.RestrictedPython.Language.Value">Global</a> <a href="src/Jikka.RestrictedPython.Evaluate.html#makeGlobal" class="link">Source</a> <a href="#v:makeGlobal" class="selflink">#</a></p><div class="doc"><p><code><a href="Jikka-RestrictedPython-Evaluate.html#v:makeGlobal" title="Jikka.RestrictedPython.Evaluate">makeGlobal</a></code> packs toplevel definitions into <code><a href="Jikka-RestrictedPython-Language-Value.html#t:Global" title="Jikka.RestrictedPython.Language.Value">Global</a></code>.
 This assumes <code><a href="Jikka-RestrictedPython-Language-Lint.html#v:doesntHaveLeakOfLoopCounters" title="Jikka.RestrictedPython.Language.Lint">doesntHaveLeakOfLoopCounters</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:runWithGlobal" class="def">runWithGlobal</a> :: <a href="../mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Jikka-Common-Error.html#t:Error" title="Jikka.Common.Error">Error</a> m =&gt; <a href="Jikka-RestrictedPython-Language-Value.html#t:Global" title="Jikka.RestrictedPython.Language.Value">Global</a> -&gt; <a href="Jikka-RestrictedPython-Language-Expr.html#t:Expr-39-" title="Jikka.RestrictedPython.Language.Expr">Expr'</a> -&gt; m <a href="Jikka-RestrictedPython-Language-Value.html#t:Value" title="Jikka.RestrictedPython.Language.Value">Value</a> <a href="src/Jikka.RestrictedPython.Evaluate.html#runWithGlobal" class="link">Source</a> <a href="#v:runWithGlobal" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:evalExpr" class="def">evalExpr</a> :: (<a href="../mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Jikka-RestrictedPython-Language-Value.html#t:Global" title="Jikka.RestrictedPython.Language.Value">Global</a> m, <a href="../mtl-2.2.2/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> <a href="Jikka-RestrictedPython-Language-Value.html#t:Local" title="Jikka.RestrictedPython.Language.Value">Local</a> m, <a href="../mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Jikka-Common-Error.html#t:Error" title="Jikka.Common.Error">Error</a> m) =&gt; <a href="Jikka-RestrictedPython-Language-Expr.html#t:Expr-39-" title="Jikka.RestrictedPython.Language.Expr">Expr'</a> -&gt; m <a href="Jikka-RestrictedPython-Language-Value.html#t:Value" title="Jikka.RestrictedPython.Language.Value">Value</a> <a href="src/Jikka.RestrictedPython.Evaluate.html#evalExpr" class="link">Source</a> <a href="#v:evalExpr" class="selflink">#</a></p><div class="doc"><p><code><a href="Jikka-RestrictedPython-Evaluate.html#v:evalExpr" title="Jikka.RestrictedPython.Evaluate">evalExpr</a></code> evaluates exprs of our restricted Python-like language.</p><h3>Rules for <span class="mathjax">\(e_1 \operatorname{boolop} e_2\)</span></h3><p><span class="mathjax">\[
     \cfrac{e_1 \mid \mu \Downarrow \mathbf{false}}{e_1 ~\mathbf{and}~ e_2 \mid \mu \Downarrow \mathbf{false}}
 \]</span>
 <span class="mathjax">\[
     \cfrac{e_1 \mid \mu \Downarrow \mathbf{true} \qquad e_2 \mid \mu \Downarrow v}{e_1 ~\mathbf{and}~ e_2 \mid \mu \Downarrow v}
 \]</span>
 <span class="mathjax">\[
     \vdots
 \]</span></p><h3>Rules for <span class="mathjax">\(e_1 \operatorname{binop} e_2\)</span></h3><p><span class="mathjax">\[
     \cfrac{e_1 \mid \mu \Downarrow v_1 \qquad e_2 \mid \mu \Downarrow v_2}{e_1 + e_2 \mid \mu \Downarrow (v_1 + v_2)}
 \]</span>
 <span class="mathjax">\[
     \vdots
 \]</span></p><h3>Rules for <span class="mathjax">\(\operatorname{unaryop} e\)</span></h3><h3>Rules for <span class="mathjax">\(\lambda x _ \tau x _ \tau \dots x _ \tau. e\)</span></h3><p><span class="mathjax">\[
     \lambda {x_0} _ {\tau _ 0} {x_1} _ {\tau _ 1} \dots {x _ {n - 1}} _ {\tau _ {n - 1}}. e \mid \mu \Downarrow \lambda _ {\mu} x_0 x_1 \dots x _ {n - 1}. e
 \]</span></p><h3>Rules for <span class="mathjax">\(\mathbf{if}~ e ~\mathbf{then}~ e ~\mathbf{else}~ e\)</span></h3><h3>Rules for <span class="mathjax">\(\lbrack e ~\mathbf{for}~ y ~\mathbf{in}~ e ~(\mathbf{if}~ e)? \rbrack\)</span></h3><h3>Rules for <span class="mathjax">\(e \operatorname{cmpop} e\)</span></h3><h3>Rules for <span class="mathjax">\(e (e, e, \dots, e)\)</span></h3><p><span class="mathjax">\[
     \cfrac{
         e \mid \mu \Downarrow \lambda _ {\mu'} x_0 x_1 \dots x _ {n - 1}. e'
         \qquad e_0 \mid \mu \Downarrow v_0
         \qquad e_1 \mid \mu \Downarrow v_1
         \qquad \dots
         \qquad e _ {n - 1} \mid \mu \Downarrow v _ {n - 1}
         \qquad e' \mid (x_0 \mapsto v_0; x_1 \mapsto v_1; \dots; x _ {n - 1} \mapsto v _ {n - 1}; \mu') \Downarrow v
     }{
         e(e_0, e_1, \dots, e _ {n - 1}) \mid \mu \Downarrow v
     }
 \]</span></p><p><span class="mathjax">\[
     \cfrac{
         e \mid \mu \Downarrow b
         \qquad e_0 \mid \mu \Downarrow v_0
         \qquad e_1 \mid \mu \Downarrow v_1
         \qquad \dots
         \qquad e _ {n - 1} \mid \mu \Downarrow v _ {n - 1}
     }{
         e(e_0, e_1, \dots, e _ {n - 1}) \mid \mu \Downarrow b(e_0, e_1, \dots, e _ {n - 1})
     }
     \qquad{(b ~\text{is a builtin function})}
 \]</span></p><h3>Rules for <span class="mathjax">\(\operatorname{constant}\)</span></h3><h3>Rules for <span class="mathjax">\(e \lbrack e \rbrack\)</span></h3><h3>Rules for <span class="mathjax">\(x\)</span></h3><p><span class="mathjax">\[
     x \mid \mu \Downarrow \mu(x)
 \]</span></p><h3>Rules for <span class="mathjax">\(\lbrack e, e, \dots, e \rbrack _ \tau\)</span></h3><h3>Rules for <span class="mathjax">\(e \lbrack e? \colon e? \colon e? \rbrack\)</span></h3></div></div><div class="top"><p class="src"><a id="v:evalStatement" class="def">evalStatement</a> :: (<a href="../mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Jikka-RestrictedPython-Language-Value.html#t:Global" title="Jikka.RestrictedPython.Language.Value">Global</a> m, <a href="../mtl-2.2.2/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> <a href="Jikka-RestrictedPython-Language-Value.html#t:Local" title="Jikka.RestrictedPython.Language.Value">Local</a> m, <a href="../mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Jikka-Common-Error.html#t:Error" title="Jikka.Common.Error">Error</a> m) =&gt; <a href="Jikka-RestrictedPython-Language-Expr.html#t:Statement" title="Jikka.RestrictedPython.Language.Expr">Statement</a> -&gt; m (<a href="../base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Jikka-RestrictedPython-Language-Value.html#t:Value" title="Jikka.RestrictedPython.Language.Value">Value</a>) <a href="src/Jikka.RestrictedPython.Evaluate.html#evalStatement" class="link">Source</a> <a href="#v:evalStatement" class="selflink">#</a></p><div class="doc"><p><code><a href="Jikka-RestrictedPython-Evaluate.html#v:evalStatement" title="Jikka.RestrictedPython.Evaluate">evalStatement</a></code> evaluates statements of our restricted Python-like language.
 When a statement is evaluated, it returns a value <span class="mathjax">\(v\)</span>, doesn't return anything <span class="mathjax">\(\mathbf{stop}\)</span>, or fails <span class="mathjax">\(\mathbf{err}\)</span>.
 Also it updates the environment function <span class="mathjax">\(\mu\)</span> from variables to values.</p><h3>Rules for <span class="mathjax">\(\mathbf{return}~ e\)</span></h3><p><span class="mathjax">\[
     \cfrac{
         e \mid \mu \Downarrow v
     }{
         \mathbf{return}~ e \mid \mu \Downarrow v \mid \mu
     }
 \]</span></p><h3>Rules for <span class="mathjax">\(y \operatorname{binop} = e\)</span></h3><p><span class="mathjax">\[
     \cfrac{
         y \operatorname{binop} e \mid \mu \Downarrow v
     }{
         y \operatorname{binop} = e \mid \mu \Downarrow \mathbf{stop} \mid (y \mapsto v; \mu)
     }
 \]</span></p><h3>Rules for <span class="mathjax">\(y := e\)</span></h3><p><span class="mathjax">\[
     \cfrac{
         e \mid \mu \Downarrow v
      }{
          y \operatorname{binop} = e \mid \mu \Downarrow \mathbf{stop} \mid (y \mapsto v; \mu)
      }
 \]</span></p><h3>Rules for <span class="mathjax">\(\mathbf{for}~ y ~\mathbf{in}~ e \colon\quad \mathrm{stmt}; \mathrm{stmt}; \dots; \mathrm{stmt}\)</span></h3><p><span class="mathjax">\[
     \cfrac{
         e \mid \mu \Downarrow \mathbf{nil}
     }{
         (\mathbf{for}~ y ~\mathbf{in}~ e \colon~ \vec{\mathrm{stmt}}) \mid \mu \Downarrow \mathbf{stop} \mid \mu
     }
 \]</span></p><p><span class="mathjax">\[
     \cfrac{
         e \mid \mu \Downarrow \mathbf{cons}(v_1, v_2)
         \qquad \vec{\mathrm{stmt}} \mid (y \mapsto v_1; \mu) \Downarrow v \mid \mu'
     }{
         (\mathbf{for}~ y ~\mathbf{in}~ e \colon~ \vec{\mathrm{stmt}}) \mid \mu \Downarrow v \mid \mu'
     }
 \]</span></p><p><span class="mathjax">\[
     \cfrac{
         e \mid \mu \Downarrow \mathbf{cons}(v_1, v_2)
         \qquad \vec{\mathrm{stmt}} \mid (y \mapsto v_1; \mu) \Downarrow \mathbf{stop} \mid \mu'
         \qquad (\mathbf{for}~ y ~\mathbf{in}~ v_2 \colon~ \vec{\mathrm{stmt}}) \mid \mu' \Downarrow a \mid \mu''
     }{
         (\mathbf{for}~ y ~\mathbf{in}~ e \colon~ \vec{\mathrm{stmt}}) \mid \mu \Downarrow a \mid \mu''
     }
     \qquad{(a \in \lbrace v, \mathbf{stop} \rbrace)}
 \]</span></p><p>It assumes the program is properly alpha-converted, i.e. <code><a href="Jikka-RestrictedPython-Language-Lint.html#v:doesntHaveLeakOfLoopCounters" title="Jikka.RestrictedPython.Language.Lint">doesntHaveLeakOfLoopCounters</a></code>. So it leaks loop counters to out of loops.</p><h3>Rules for <span class="mathjax">\(\mathbf{if}~ e \colon\quad \mathrm{stmt}; \mathrm{stmt}; \dots; \mathrm{stmt};\quad \mathbf{else}\colon\quad \mathrm{stmt}; \mathrm{stmt}; \dots; \mathrm{stmt}\)</span></h3><p><span class="mathjax">\[
     \cfrac{
         e \mid \mu \Downarrow \mathbf{true}
         \qquad \vec{\mathrm{stmt}} _ 1 \mid \mu \Downarrow a \mid \mu'
     }{
         (\mathbf{if}~ e \colon~ \vec{\mathrm{stmt}} _ 1 ~\mathbf{else}\colon~ \vec{\mathrm{stmt}} _ 2) \mid \mu \Downarrow a \mid \mu'
     }
     \qquad{(a \in \lbrace v, \mathbf{stop} \rbrace)}
 \]</span></p><p><span class="mathjax">\[
     \cfrac{
         e \mid \mu \Downarrow \mathbf{false}
         \qquad \vec{\mathrm{stmt}} _ 2 \mid \mu \Downarrow a \mid \mu'
     }{
         (\mathbf{if}~ e \colon~ \vec{\mathrm{stmt}} _ 1 ~\mathbf{else}\colon~ \vec{\mathrm{stmt}} _ 2) \mid \mu \Downarrow a \mid \mu'
     }
     \qquad{(a \in \lbrace v, \mathbf{stop} \rbrace)}
 \]</span></p><h3>Rules for <span class="mathjax">\(\mathbf{assert}~ e\)</span></h3><p><span class="mathjax">\[
     \cfrac{
         e \mid \mu \Downarrow \mathbf{true}
     }{
         \mathbf{assert}~ e \mid \mu \Downarrow \mathbf{stop}
     }
 \]</span></p><p><span class="mathjax">\[
     \cfrac{
         e \mid \mu \Downarrow \mathbf{false}
     }{
         \mathbf{assert}~ e \mid \mu \Downarrow \mathbf{err}
     }
 \]</span></p></div></div><div class="top"><p class="src"><a id="v:evalStatements" class="def">evalStatements</a> :: (<a href="../mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Jikka-RestrictedPython-Language-Value.html#t:Global" title="Jikka.RestrictedPython.Language.Value">Global</a> m, <a href="../mtl-2.2.2/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> <a href="Jikka-RestrictedPython-Language-Value.html#t:Local" title="Jikka.RestrictedPython.Language.Value">Local</a> m, <a href="../mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Jikka-Common-Error.html#t:Error" title="Jikka.Common.Error">Error</a> m) =&gt; [<a href="Jikka-RestrictedPython-Language-Expr.html#t:Statement" title="Jikka.RestrictedPython.Language.Expr">Statement</a>] -&gt; m (<a href="../base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Jikka-RestrictedPython-Language-Value.html#t:Value" title="Jikka.RestrictedPython.Language.Value">Value</a>) <a href="src/Jikka.RestrictedPython.Evaluate.html#evalStatements" class="link">Source</a> <a href="#v:evalStatements" class="selflink">#</a></p><div class="doc"><p><code><a href="Jikka-RestrictedPython-Evaluate.html#v:evalStatements" title="Jikka.RestrictedPython.Evaluate">evalStatements</a></code> evaluates sequences of statements of our restricted Python-like language.</p><p><span class="mathjax">\[
     \cfrac{\mathrm{stmt} _ 0 \mid \mu \Downarrow v \mid \mu'}{\mathrm{stmt} _ 0; \mathrm{stmt} _ 1; \dots; \mathrm{stmt} _ {n-1} \mid \mu \Downarrow v \mid \mu'}
 \]</span></p><p><span class="mathjax">\[
     \cfrac{\mathrm{stmt} _ 0 \mid \mu \Downarrow \mathbf{stop} \mid \mu' \qquad \mathrm{stmt} _ 1; \dots; \mathrm{stmt} _ {n-1} \mid \mu' \Downarrow a \mid \mu''}{\mathrm{stmt} _ 0; \mathrm{stmt} _ 1; \dots; \mathrm{stmt} _ {n-1} \mid \mu \Downarrow a \mid \mu''}
     \qquad{(a \in \lbrace v, \mathbf{stop} \rbrace)}
 \]</span></p><p><span class="mathjax">\[
     \epsilon \mid \mu \Downarrow \mathbf{stop} \mid \mu
 \]</span></p></div></div><div class="top"><p class="src"><a id="v:execToplevelStatement" class="def">execToplevelStatement</a> :: (<a href="../mtl-2.2.2/Control-Monad-State-Class.html#t:MonadState" title="Control.Monad.State.Class">MonadState</a> <a href="Jikka-RestrictedPython-Language-Value.html#t:Global" title="Jikka.RestrictedPython.Language.Value">Global</a> m, <a href="../mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Jikka-Common-Error.html#t:Error" title="Jikka.Common.Error">Error</a> m) =&gt; <a href="Jikka-RestrictedPython-Language-Expr.html#t:ToplevelStatement" title="Jikka.RestrictedPython.Language.Expr">ToplevelStatement</a> -&gt; m () <a href="src/Jikka.RestrictedPython.Evaluate.html#execToplevelStatement" class="link">Source</a> <a href="#v:execToplevelStatement" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>